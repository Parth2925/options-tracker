[2025-12-31 11:29:29] [INFO] 
⚠️  WARNING: This will copy all data from old database to new database.
[2025-12-31 11:29:29] [INFO]    Old DB: postgresql://options_tracker_user:KLvsWK9feDVuydyr...
[2025-12-31 11:29:29] [INFO]    New DB: postgresql://options_tracker_new_db_user:J7qsnDUWd...

Continue? (yes/no): [2025-12-31 11:29:29] [INFO] ================================================================================
[2025-12-31 11:29:29] [INFO] Data Migration: Old Database → New Database
[2025-12-31 11:29:29] [INFO] ================================================================================
[2025-12-31 11:29:29] [INFO] Connecting to Old Database...
[2025-12-31 11:29:42] [INFO] ✅ Old Database connection successful
[2025-12-31 11:29:42] [INFO] Connecting to New Database...
[2025-12-31 11:29:50] [INFO] ✅ New Database connection successful
[2025-12-31 11:29:50] [INFO] 
Verifying database schemas...
[2025-12-31 11:29:58] [INFO] Old DB tables: deposits, users, trades, accounts, withdrawals, stock_positions
[2025-12-31 11:29:58] [INFO] New DB tables: users, accounts, deposits, withdrawals, trades, stock_positions
[2025-12-31 11:29:58] [INFO] ✅ All required tables exist
[2025-12-31 11:29:58] [INFO] 
================================================================================
[2025-12-31 11:29:58] [INFO] Starting Data Migration
[2025-12-31 11:29:58] [INFO] ================================================================================
[2025-12-31 11:29:58] [INFO] Migrating users...
[2025-12-31 11:30:02] [INFO]    Old DB: 4 rows
[2025-12-31 11:30:05] [INFO]    New DB: 1 rows (before migration)
[2025-12-31 11:30:05] [INFO]    ⚠️  Warning: users already has data in new DB
[2025-12-31 11:30:05] [INFO]    This will add duplicate data. Clearing existing data first...
[2025-12-31 11:30:08] [INFO]    ✅ Cleared existing data from users
[2025-12-31 11:30:20] [INFO]    Migrating columns: id, email, first_name, last_name, password_hash, email_verified, verification_token, verification_token_expires, created_at, updated_at, reset_token, reset_token_expires
[2025-12-31 11:30:22] [INFO]    Read 4 rows from old database
[2025-12-31 11:30:23] [ERROR]    ❌ Error migrating users: tuple indices must be integers or slices, not str
[2025-12-31 11:30:23] [ERROR]    ❌ Error reading from old database: tuple indices must be integers or slices, not str
[2025-12-31 11:30:23] [ERROR] ❌ Migration failed for users: tuple indices must be integers or slices, not str
[2025-12-31 11:30:23] [ERROR] Migration aborted. Please check errors above.
[2025-12-31 11:30:23] [INFO] 
❌ Migration completed with errors. Please review above.
